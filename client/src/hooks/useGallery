import { useEffect, useState } from 'react';

export default function useGallery() {

    const [imageData, setImageData] = useState([]);

    useEffect(() => {
        fetch(`${import.meta.env.VITE_APISERVER}/gallery`)
        .then(res => res.json())
        .then(data => {
            console.log(data.images)
            const myImageData = data.images.map((item: any) => item)
            myImageData.forEach((item: any) => {
                item.previewUrl = `${import.meta.env.VITE_APISERVER}/${item.imageId}.jpg`
            })
            setImageData(myImageData)

            return imageData
        })

    }, [])
}